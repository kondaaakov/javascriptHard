<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Онлайн-маркет</title>

	<link rel="stylesheet" href="./src/styles/style.css">
	<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;600;700;900&display=swap"
	      rel="stylesheet">
</head>
<body>
<div class="app center" id="app">
	<header class="header">
		<a href="./index.html" class="logo logo_header"><img src="./src/img/icons/logo.svg" alt="" class="logo_img">Супермаркет</a>

		<ul class="menu">
			<li><a href="./catalog.html" class="menu_link">Каталог</a></li>
			<li><a href="#" class="menu_link">О нас</a></li>
			<li><a href="#" class="menu_link">Мне повезёт!</a></li>
		</ul>

		<div class="cart">
			<img src="./src/img/icons/cart.svg" @click="isVisibleCart = !isVisibleCart" alt="" class="cart_img" id="cart">

			<div class="cart_block" v-if="isVisibleCart" id="cartBlock">
				<h2 class="cart_title">Корзина</h2>
				<p class="cart_text" v-if="!cartProducts.length">Корзина пуста</p>
				<div class="cart_products" id="cartProducts">

					<div class="cart_product" v-for="product of cartProducts">
						<div class="cart_product_left">
							<img :src="getImgSrc(product)" alt="img" class="cart_product_img">
							<div class="cart_product_info">
								<p class="cart_product_title">{{product.title}}</p>
								<p class="cart_product_inf">{{product.price}} руб. за 1 {{product.meas}}.</p>
							</div>
						</div>
						<div class="cart_product_right">
							<p class="cart_product_price">{{product.price * product.quantity}} руб. за {{product.quantity}} {{product.meas}}.</p>
							<img class='cart_product_remove' @click="removeProduct(product)" src="./src/img/icons/remove.svg" alt="">
						</div>
					</div>

				</div>

				<div class="cart_block_bottom">
					<p class="cart_block_total_price" id="totalPrice">Итого к оплате: {{getTotalPrice()}} рублей</p>
					<button class="btn">Оплатить</button>
				</div>
			</div>
		</div>
	</header>

	<main class="container">
		<div class="products container_block">
			<h1 class="block_title">Каталог товаров</h1>

			<div class="products_list" id="catalog_products_list">
				<div class="product" v-for="product of products" :key="product.id">
					<img :src="getImgSrc(product)" class="product_img" alt="img">
					<p class="product_title">{{product.title}}</p>
					<p class="product_price">{{product.price}} руб. за 1 {{product.meas}}.</p>
					<button class="btn btn_add_to_cart" @click="addProduct(product)">Добавить</button>
				</div>
			</div>
		</div>
	</main>
	<footer class="footer">
		<a href="#" class="logo"><img src="./src/img/icons/logo.svg" alt="" class="logo_img">Супермаркет</a>
		<p class="footer_text">Все права защищены! 2021</p>
	</footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="./src/js/app.js"></script>
</body>
</html>